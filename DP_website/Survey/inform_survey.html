<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Survey</title>
    
</head>
<body>
    <form id="surveyForm" style="margin-left: 50px;">
        <div>
            <label for="age">1. What is your age?</label><br>
            <input type="text" id="age" name="age">
        </div>
        <div>
            <p>2. What is your gender?</p>
            <input type="radio" id="male" name="gender" value="1">
            <label for="male">Male</label><br>
            <input type="radio" id="female" name="gender" value="2">
            <label for="female">Female</label><br>
            <input type="radio" id="non-binary" name="gender" value="3">
            <label for="non-binary">Non-binary / third gender</label><br>
            <input type="radio" id="prefer-not-to-say-gender" name="gender" value="4">
            <label for="prefer-not-to-say-gender">Prefer not to say</label>
        </div>
        <div>
            <p>3. Please specify your race.</p>
            <input type="radio" id="caucasian" name="race" value="1">
            <label for="caucasian">Caucasian</label><br>
            <input type="radio" id="black" name="race" value="2">
            <label for="black">Black or African-American</label><br>
            <input type="radio" id="asian" name="race" value="3">
            <label for="asian">Asian</label><br>
            <input type="radio" id="native-american" name="race" value="4">
            <label for="native-american">Native American</label><br>
            <input type="radio" id="native-hawaiian" name="race" value="5">
            <label for="native-hawaiian">Native Hawaiian or Pacific Islander</label><br>
            <input type="radio" id="prefer-not-to-say-race" name="race" value="6">
            <label for="prefer-not-to-say-race">Prefer not to say</label><br>
            <input type="radio" id="other" name="race" value="7">
            <label for="other">Other</label>
        </div>
        <div>
            <p>4. What is the highest degree or level of education you have completed?</p>
            <input type="radio" id="some-high-school" name="education" value="1">
            <label for="some-high-school">Some High School</label><br>
            <input type="radio" id="high-school" name="education" value="2">
            <label for="high-school">High School</label><br>
            <input type="radio" id="some-college" name="education" value="3">
            <label for="some-college">Some College</label><br>
            <input type="radio" id="associates-degree" name="education" value="4">
            <label for="associates-degree">Associate's Degree</label><br>
            <input type="radio" id="bachelors-degree" name="education" value="5">
            <label for="bachelors-degree">Bachelor's Degree</label><br>
            <input type="radio" id="masters-degree" name="education" value="6">
            <label for="masters-degree">Master's Degree</label><br>
            <input type="radio" id="phd" name="education" value="7">
            <label for="phd">Ph.D. or higher</label><br>
            <input type="radio" id="trade-school" name="education" value="8">
            <label for="trade-school">Trade School</label><br>
            <input type="radio" id="prefer-not-to-say-education" name="education" value="9">
            <label for="prefer-not-to-say-education">Prefer not to say</label>
        </div>
        <div>
            <label for="yearOfStudy">5. What is your year of study at university?</label><br>
            <input type="text" id="yearOfStudy" name="yearOfStudy"><br>
            <label for="major">Major (Collect colleges but categories into STEM, Non-STEM)?</label><br>
            <input type="text" id="major" name="major">
        </div>
        <div>
            <p>6. How often have you received training on dark patterns in the last 12 months?</p>
            <input type="radio" id="never" name="training" value="Never">
            <label for="never">Never</label><br>
            <input type="radio" id="once" name="training" value="Once">
            <label for="once">Once</label><br>
            <input type="radio" id="2-5-times" name="training" value="2-5 times">
            <label for="2-5-times">2-5 times</label><br>
            <input type="radio" id="5-10-times" name="training" value="5-10 times">
            <label for="5-10-times">5-10 times</label><br>
            <input type="radio" id="more-than-10-times" name="training" value=">10 times">
            <label for="more-than-10-times">>10 times</label>
        </div>
        <div>
            <p>7. Have you been a victim of any of the following dark patterns?</p>
            <input type="checkbox" id="nagging" name="darkPatterns" value="Nagging">
            <label for="nagging">Nagging</label><br>
            <input type="checkbox" id="obstruction" name="darkPatterns" value="Obstruction">
            <label for="obstruction">Obstruction</label><br>
            <input type="checkbox" id="sneaking" name="darkPatterns" value="Sneaking">
            <label for="sneaking">Sneaking</label><br>
            <input type="checkbox" id="forced-action" name="darkPatterns" value="Forced Action">
            <label for="forced-action">Forced Action</label><br>
            <input type="checkbox" id="interface-interference" name="darkPatterns" value="Interface Interference">
            <label for="interface-interference">Interface Interference</label>
        </div>
        <button type="button" onclick="validateAndSave()">Next</button>
    </form>
    <script>
        function validateAndSave() {
            const age = document.getElementById('age').value;
            const gender = document.querySelector('input[name="gender"]:checked');
            const race = document.querySelector('input[name="race"]:checked');
            const education = document.querySelector('input[name="education"]:checked');
            const yearOfStudy = document.getElementById('yearOfStudy').value;
            const major = document.getElementById('major').value;
            const training = document.querySelector('input[name="training"]:checked');
            const darkPatterns = Array.from(document.querySelectorAll('input[name="darkPatterns"]:checked')).map(dp => dp.value);

            if (!age || !gender || !race || !education || !yearOfStudy || !major || !training || darkPatterns.length === 0) {
                alert("Please complete all questions.");
                return;
            }

            const essentialInfo = {
                age: age,
                gender: gender.value,
                race: race.value,
                education: education.value,
                yearOfStudy: yearOfStudy,
                major: major,
                training: training.value,
                darkPatterns: darkPatterns
            };

            localStorage.setItem('essentialinfo', JSON.stringify(essentialInfo));
            window.location.href = 'newpage.html';
        }
    </script>
</body>
</html>
